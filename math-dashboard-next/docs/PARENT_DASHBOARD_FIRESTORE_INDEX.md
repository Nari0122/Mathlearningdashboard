# 학부모 자녀 등록 — Firestore 복합 인덱스

자녀 등록 시 **학생 이름·학생 전화번호·학부모 전화번호**로 `students` 컬렉션을 조회합니다.

이 쿼리를 위해 **복합 인덱스**가 필요합니다.

## 인덱스 생성 방법

1. 학부모 대시보드에서 [자녀 등록]으로 연동을 시도합니다.
2. 인덱스가 없으면 Firestore가 콘솔에 **인덱스 생성 링크**가 포함된 오류를 반환합니다.
3. 해당 링크를 열어 인덱스를 생성하거나, Firebase 콘솔에서 수동으로 아래와 같이 만듭니다.

**컬렉션 ID:** `students`

| 필드        | 정렬   |
|------------|--------|
| name       | 오름차순 |
| phone      | 오름차순 |
| parentPhone| 오름차순 |

(쿼리 필터에 사용되는 필드만 포함하면 됩니다.)

---

## 학부모-학생 연동 승인 대기 (`parent_student_links`)

학생의 "연동 관리" 페이지에서 **승인 대기 요청**을 조회할 때 아래 복합 인덱스가 필요할 수 있습니다.

**컬렉션 ID:** `parent_student_links`

| 필드         | 정렬   |
|-------------|--------|
| studentDocId| 오름차순 |
| status      | 오름차순 |

인덱스가 없으면 첫 조회 시 Firestore 콘솔에 표시되는 링크로 생성하면 됩니다.
